---
title: Prostorov√© datab√°zov√© syst√©my 2 (PDBS2)
listing:
   - id: codes
     contents: PDBS2/skripty/description.yaml
     sort-ui: false
     filter-ui: false
     type: table
     date-format: iso
     sort:
       - "date"
     fields: [date, title] 
     field-display-names:
       title: "Skript"
       date: "Datum"
       author: "Autor"
filters:
   - include-code-files
---

## üìÉ ≈òe≈°en√° t√©mata

- Oracle 
- Instalace a p≈ôipojen√≠ k PostgreSQL, naƒçten√≠ dat z CSV a prostorov√° data skrze GDAL

## üóÇÔ∏è Data ke sta≈æen√≠

- [GPKG s vrstvami okres≈Ø a kraj≈Ø](./PDBS2/soubory/uzemni_jednotky.gpkg)
- [CSV s √∫daji o poƒçtu obyvatel](./PDBS2/soubory/obyvatele_roky.csv)

## üìö Zdroje

- [PostgreSQL Manu√°l](https://www.postgresql.org/docs/14/index.html)
- [PostGIS Manu√°l](https://postgis.net/docs/manual-3.4/)

## üíª Uk√°zkov√© k√≥dy

::: {#codes}
:::

## üñ• Instalace PostregSQL

- instalujeme [Linux Mint - Cinnamon edition](https://www.linuxmint.com/download.php) do prost≈ôed√≠ [VirtualBox](https://www.virtualbox.org/wiki/Downloads) -- cel√Ω process je uk√°z√°n v [tomto videu](https://www.youtube.com/watch?v=5MwBbgdSZS0), nezapomenout na p≈ô√≠davky hosta, aby virtualizovan√Ω poƒç√≠taƒç l√©pe fungoval
- d≈Øle≈æit√© je nastaven√≠ jm√©na u≈æivatele a hesla
- n√°slednƒõ instalace softwar≈Ø
   - nejd≈ô√≠ve nastav√≠me nezbytnosti pro [PG Admin 4](https://www.pgadmin.org/download/pgadmin-4-apt/) (pozor bude po≈æadov√°no heslo)
 
```bash
source /etc/os-release

# Install the public key for the repository (if not done previously):
curl -fsS https://www.pgadmin.org/static/packages_pgadmin_org.pub | sudo gpg --dearmor -o /usr/share/keyrings/packages-pgadmin-org.gpg

# Create the repository configuration file:
echo "deb [signed-by=/usr/share/keyrings/packages-pgadmin-org.gpg] https://ftp.postgresql.org/pub/pgadmin/pgadmin4/apt/$UBUNTU_CODENAME pgadmin4 main" | sudo tee /etc/apt/sources.list.d/pgadmin4.list

# Update software sources
sudo apt-get update
sudo apt-get upgrade -y

# Install pgAdmin for both desktop and web modes:
sudo apt-get install -y pgadmin4
```
   - n√°slednƒõ nainstalujeme Gedit, PostgreSQL, PGXNClient (pro instalaci PG extenz√≠), PostGIS, QGIS a GDAL

```bash
# p≈ôid√°n√≠ zdroje bal√≠ƒçk≈Ø GIS n√°stroj≈Ø
sudo add-apt-repository -y ppa:ubuntugis/ppa
sudo apt-get update

sudo apt-get install -y gedit postgresql pgxnclient postgis qgis gdal-bin
```

   - prvotn√≠ spu≈°tƒõn√≠ PostgreSQL je nutn√© prov√©st z p≈ô√≠kazov√© ≈ô√°dky

```bash
sudo -u postgres psql template1
```
   - n√°slednƒõ spust√≠me p≈ô√≠kaz pro modifikaci hesla hlavn√≠ u≈æivatele DB
  
```sql
ALTER USER postgres with encrypted password 'heslo';
```
   - p≈ô√≠kazovou ≈ô√°dku lze uzav≈ô√≠t a p≈ôipojit se z GUI PGAdmin4 k serverlu `localhost` s u≈æivatelem `postgres` a heslem `heslo` (nastaven√© v√Ω≈°e)

