name: Build website and deploy

on:
  push

jobs:

  build-web-and-deploy:

    runs-on: ubuntu-22.04

    steps:

        - name: Checkout
          uses: actions/checkout@v4

        - name: Setup Quarto
          uses: quarto-dev/quarto-actions/setup@v2
        
        - name: Install extensions
          run: ./install.sh  

        - name: Render Quarto Project
          uses: quarto-dev/quarto-actions/render@v2

        - name: Publish to GitHub Pages (and render)
          uses: quarto-dev/quarto-actions/publish@v2
          with:
            target: gh-pages
            render: "false"
          env:
            GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}  